<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns:ui="http://java.sun.com/jsf/facelets"
    template="/templates/common/template.xhtml"      
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <ui:define name="left">
        <ui:include src="menuacordion.xhtml" />
    </ui:define>

    <h:head>

    </h:head>

    <ui:define name="content">
        <h:outputScript target="body">

            var cana4=document.getElementById("idFormProf:apePatPro").disabled=true;
            var cana5=document.getElementById("idFormProf:apeMatPro").disabled=true;
            var cana6=document.getElementById("idFormProf:calPro").disabled=true;
            var cana7=document.getElementById("idFormProf:dniPro").disabled=true; 
            var cana8=document.getElementById("idFormProf:dirPro").disabled=true; 

            function activar(){

            var cana3=document.getElementById("idFormProf:txtNomPro").disabled=false;
            var cana4=document.getElementById("idFormProf:apePatPro").disabled=false;
            var cana5=document.getElementById("idFormProf:apeMatPro").disabled=false;
            var cana6=document.getElementById("idFormProf:calPro").disabled=false;
            var cana7=document.getElementById("idFormProf:dniPro").disabled=false; 
            var cana7=document.getElementById("idFormProf:dirPro").disabled=false; 
            }

            function limpiadoDesactivado(){
            limpiarCampos(); 
            desactivar();

            } 

            function desactivar(){
            var cana3=document.getElementById("idFormProf:nomPro").disabled=ture;
            var cana4=document.getElementById("idFormProf:apePatPro").disabled=true;
            var cana5=document.getElementById("idFormProf:apeMatPro").disabled=true;
            var cana6=document.getElementById("idFormProf:calPro").disabled=true;
            var cana7=document.getElementById("idFormProf:dniPro").disabled=true; 
            var cana=document.getElementById("idFormProf:dirPro").disabled=true; 
            }

            function limpiarCampos(){
            document.getElementById("idFormProf:idcodProf").value="";
            document.getElementById("idFormProf:nomPro").value="";
            document.getElementById("idFormProf:apePatPro").value="";
            document.getElementById("idFormProf:apeMatPro").value="";
            document.getElementById("idFormProf:calPro").value="";
            document.getElementById("idFormProf:dniPro").value="";
            document.getElementById("idFormProf:dirPro").value="";
            document.getElementById("idFormProf:txtMensaje").value="";
            }
            
    function targetDimanic(tipo){
        //alert('ffdd');
        if (tipo=="idReport")
        {
        //document.forms.formu.oculto.valu="opcion1";
        document.getElementById("idFormProf").target="_blank";
        return true;
        }
       document.getElementById("idFormProf").target="_self";
       document.getElementById("idFormProf").submit();
       return true;
        
    }
     
     function validarCamposObligatorios(){
            var msg="Por favor ";
            var intCont=0;
             var txtCodProf=document.getElementById("idFormProf:idcodProf"); 
             var txtNomPro=document.getElementById("idNota:txtNomPro");
             var cboSeccion=document.getElementById("idNota:idSelectSeccion");
             var cboArea=document.getElementById("idNota:idSelectArea");
             var cboEmpleado=document.getElementById("idNota:idSelectEmpleado");
             var cboCronEval=document.getElementById("idNota:idSelectCronEval");
             var cboAsignatura=document.getElementById("idNota:idSelectAsig");
            
            if(cboGrado.value=='0'){
              msg=msg +"seleccionar grado \n";
             intCont++;
            }
            if(cboCiclo.value=='0'){
              msg=msg +"seleccionar ciclo \n";
              intCont++;
             }
             
             if(cboSeccion.value=='0'){
              msg=msg +"seleccionar sección \n";
              intCont++;
             }
             if(cboArea.value=='0'){
              msg=msg +"seleccionar area \n";
              intCont++;
             }
             
             if(cboEmpleado.value=='0'){
              msg=msg +"seleccionar profesor \n";
              intCont++;
             }
             if(cboCronEval.value=='0'){
              msg=msg +"seleccionar cronograma \n";
              intCont++;
             }
             if(cboAsignatura.value=='0'){
              msg=msg +"seleccionar asignatura \n";
              intCont++;
             }
            if(intCont>0){
               alert(msg);
               return false;
               }
             else{
               return true;
             }   
            
           
             
            
            }
            
            


        </h:outputScript>
        <h:body> 
            <h1>Registro Cronograma de Evaluación</h1>
            <h:form id="formCronEval">
                <rich:tabPanel id="tabPanel" switchType="client">
                    <rich:tab header="Datos Generales">
                        <table>
                            <tr>
                            <td>
                        <h:panelGrid columns="6" cellspacing="10" >

                                             


                            <h:outputText value="Fecha Inicial:" />
                                 <rich:calendar id="dteInicial"
                                           value="#{profesorBean.fecNacimiento}"
                                           locale="#{calendarBean.locale}"
                                           >         
                            </rich:calendar>
                            
                            <h:outputText value="Fecha Final:" />
                             <rich:calendar id="dteFinal"
                                           value="#{profesorBean.fecNacimiento}"
                                           locale="#{calendarBean.locale}"                                          >      
                           </rich:calendar>
                         <h:outputText value="Semestre:" />
                        <h:selectOneMenu id="txtSementre" 
                                         value="#{profesorBean.apeMaterno}">
                            <f:selectItem  itemValue="I" itemLabel="I-Semestre"/>
                            <f:selectItem  itemValue="II" itemLabel="II-Semestre"/>
                            <f:selectItem  itemValue="III" itemLabel="III-Semestre"/>
                            
                        </h:selectOneMenu>

                        </h:panelGrid>
                         </td> 
                                    
                           </tr>
                                
                        </table>
                    </rich:tab>

                    <rich:panel id="sample1" styleClass="tooltip-text" bodyClass="rich-laguna-panel-no-header">

                        <span >
                            <span >
                                <a4j:commandButton id="btnNuevo" 
                                                   value="Nuevo" 
                                                   onclick="activar()"
                                                   execute="@this"   >
                                </a4j:commandButton>
                            </span>

                            <span >
                                <h:commandButton id="btnEditar" 
                                                 value="Editar"
                                                 action="#{profesorBean.updateProfesor()}"
                                                 />
                            </span>

                            <span >

                                <h:commandButton id="btnGrabar" 
                                                 value="Grabar"
                                                 action="#{profesorBean.agregarProfesor()}" 
                                                 onclick=" if (!targetDimanic('btnGrabar')) return false;"
                                                 />
                            </span>

                                 <span >
                                <a4j:commandButton id="btnLimpiar" 
                                                   value="Limpiar" 
                                                   onclick="if (!limpiadoDesactivado()) return false;"
                                                   execute="@this"   >
                                </a4j:commandButton>
                            </span>

                            <span >
                                <h:commandButton id="btnCancelar" 
                                                 value="Cancelar"/>
                            </span>

                            <span >
                                <a4j:commandButton id="btnBuscar" 
                                                   value="Buscar" 
                                                   oncomplete="#{rich:component('popupProfesor')}.show()"
                                                   action="#{profesorBean.actionlistProfesorById}"  
                                                   render="popupProfesor"
                                                   execute="@this"   >
                                </a4j:commandButton>
                            </span>
                           
                                
                        </span>
                        <br/>
                        <h:outputText  id="txtMensaje" value="#{profesorBean.mensaje}" style="color:#ff0000;"  />
                    </rich:panel>
                </rich:tabPanel>

            </h:form>

            <rich:popupPanel id="popupProfesor" 
                             autosized="true" 
                             onmaskclick="#{rich:component('popupProfesor')}.hide()">
                <f:facet name="controls">
                    <h:outputLink value="#" onclick="#{rich:component('popupProfesor')}.hide();
                                                           return false;">X</h:outputLink>
                </f:facet>
                <h:panelGrid columns="1" id="editGrid">
                    <rich:dataTable value="#{profesorBean.lisProfesor}" 
                                    var="pro" 
                                    iterationStatusVar="it" 
                                    id="table" 
                                    rows="15">
                        <rich:column>
                            <f:facet name="header">Codigo</f:facet>
                            <h:outputText value="#{pro.idProfesor}" />
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">Nombres</f:facet>
                            <h:outputText value="#{pro.nombre}" />
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">Apellido Paterno</f:facet>
                            <h:outputText value="#{pro.apellidoPat}" />
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">Apellido Materno</f:facet>
                            <h:outputText value="#{pro.apellidoMat}" />
                        </rich:column>

                        <rich:column>
                            <f:facet name="header">DNI</f:facet>
                            <h:outputText value="#{pro.dni}" />
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">Direccion</f:facet>
                            <h:outputText value="#{pro.direccion}" />
                        </rich:column>
                        <rich:column>
                            <a4j:commandLink styleClass="no-decor" render="idcodProf, nomPro, apePatPro, apeMatPro, calPro, dniPro, dirPro, fonoPro, " 
                                             execute="@this" action="#{profesorBean.pintarFormularioProfesor()}"
                                             onclick="#{rich:component('popupProfesor')}.hide()">
                                <h:graphicImage value="/images/icons/edit.gif"/>

                                <f:setPropertyActionListener target="#{profesorBean.codProf}" value="#{pro.idProfesor}" />
                            </a4j:commandLink>
                        </rich:column>

                        <f:facet name="footer">
                            <rich:dataScroller page="1" />
                        </f:facet>
                    </rich:dataTable>
                </h:panelGrid>
            </rich:popupPanel>

        </h:body>
    </ui:define> 
</ui:composition>


