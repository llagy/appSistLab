<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns:ui="http://java.sun.com/jsf/facelets" 
    template="/templates/common/template.xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
    xmlns="http://www.w3.org/1999/xhtml">
    <ui:define name="left">
        <ui:include src="/templates/common/menuacordion.xhtml" />
    </ui:define> 

    <h:head>

    </h:head>

    <ui:define name="content">    
        
        <h:outputStylesheet>
        .top {
        vertical-align: top;
        }
 
        .info {
        height: 202px;
        overflow: auto;
        }
        
        
    </h:outputStylesheet>
        <h:outputScript target="body">
            function LimitAttach(tField,iType) { 
                file=tField.value; 
                if (iType==1) { 
                extArray = new Array(".gif",".jpg",".png"); 
                } 
                if (iType==2) { 
                extArray = new Array(".swf"); 
                } 
                if (iType==3) { 
                extArray = new Array(".exe",".sit",".zip",".tar",".swf",".mov",".hqx",".ra",".wmf",".mp3",".qt",".med",".et"); 
                } 
                if (iType==4) { 
                extArray = new Array(".mov",".ra",".wmf",".mp3",".qt",".med",".et",".wav"); 
                } 
                if (iType==5) { 
                extArray = new Array(".html",".htm",".shtml"); 
                } 
                if (iType==6) { 
                extArray = new Array(".doc",".xls",".ppt"); 
                } 
                allowSubmit = false; 
                if (!file) return; 
                while (file.indexOf("\\") != -1) file = file.slice(file.indexOf("\\") + 1); 
                ext = file.slice(file.indexOf(".")).toLowerCase(); 
                for (var i = 0; i &lt; extArray.length; i++) { 
                if (extArray[i] == ext) { 
                allowSubmit = true; 
                break; 
                } 
                } 
                if (allowSubmit) { 
                } else { 
                tField.value=""; 
                alert("Usted sólo puede subir archivos con extensiones " + (extArray.join(" ")) + "\nPor favor seleccione un nuevo archivo"); 
                } 
               } 
               
               
               var inicio=new Date(); 
               inicio=inicio.getTime(); 
               /*function ini() { 
                fin=new Date(); 
                fin=fin.getTime(); 
                tiempo=(fin-inicio)/1000; //Gracias por el consejo, Ferny 
                document.getElementById('tmp').innerHTML=tiempo; 
                } */
            </h:outputScript> 
        <h:body  onload="" >
            
            <h1>Alta de Paciente</h1>
            <h:form id="formPcte"    > 
                
               <rich:panel id="sample2" styleClass="tooltip-text" bodyClass="rich-laguna-panel-no-header">
                        <table>
                            <tr>
                                <td> <h:panelGrid columns="6" cellspacing="10">
                          
                            <h:outputText value="Código:" />
                            
                            <h:panelGroup>
                                <h:inputText id="codPaciente"  style="width: 125px;"
                                         value="#{pacienteBean.codPaciente}" 
                                         >
                                
                            </h:inputText>
                             
                                <a4j:commandButton id="btnListar" 
                                                   value=".." 
                                                   oncomplete="#{rich:component('popupPaciente')}.show()"
                                                   action="#{pacienteBean.listPacienteAll()}"  
                                                   render="popupPaciente"
                                                   execute="@this"   >
                                </a4j:commandButton>
                            </h:panelGroup>

                            <h:outputText value="Primer nombre: "/>
                            <h:inputText id="nom1Pcte"
                                         value="#{pacienteBean.nombre1}" 
                                         >
                            </h:inputText>
                             <h:outputText value="Segundo nombre: "/>
                            <h:inputText id="nom2Pcte"
                                         value="#{pacienteBean.nombre2}"                                          >
                            </h:inputText>
                                 

                            <h:outputText value="Apellido Paterno:" />
                            <h:inputText id="apePatPcte" 
                                         value="#{pacienteBean.apPaterno}"
                                        
                                         >
                            </h:inputText>

                            <h:outputText value="Apellido Materno:" />
                            <h:inputText id="apeMatPcte" 
                                         value="#{pacienteBean.apMaterno}"
                                        
                                         >
                            </h:inputText>
                            <h:outputText value="DNI:" />
                            <h:inputText id="dniPcte" 
                                         value="#{pacienteBean.dni}"
                                         
                                         >
                            </h:inputText>
                             <h:outputText value="email" />
                              <h:inputText id="emailPcte" value="#{pacienteBean.email}">
                              </h:inputText>
                            
                            
                            <h:outputText value="Direccion: " />
                            <h:inputText id="dirPcte" 
                                         value="#{pacienteBean.direccion}"
                                         >
                            </h:inputText>
                            <h:outputText value="Teléfono: " />
                            <h:inputText id="telfPcte" 
                                         value="#{pacienteBean.telefono}"
                                         >
                            </h:inputText>
                            
                            <h:outputText value="F.Nacimiento: " />
                            <rich:calendar id="calNacPcte"
                                           value="#{pacienteBean.fechaNacimiento}"
                                           locale="#{calendarBean.locale}" 
                                           
                                           >         
                            </rich:calendar>
                            
                             <h:outputText value="F.Registro:" />
                            
                            <rich:calendar id="calRegPcte"
                                           value="#{pacienteBean.fechaIngreso}" 
                                           locale="#{calendarBean.locale}" 
                                           
                                           >         
                            </rich:calendar>
                            
                            <h:panelGroup>
                            <h:outputText value="Tipo Paciente:" />
                               <h:inputText id="tipPcte" 
                                            value="#{pacienteBean.idTipoPac}" style="width:30px;">
                               </h:inputText>
                               <a4j:commandButton id="btnTipPcte" 
                                                   value=".." 
                                                   oncomplete="#{rich:component('popupSexo')}.show()"
                                                   action="#{tipoPaciente.listTipoPacienteAll()}"  
                                                   render="popupSexo"
                                                   execute="@this"   >
                                </a4j:commandButton>   
                             </h:panelGroup>
                             <h:panelGroup>
                            <h:outputText value="Estado Civil: " />
                               <h:inputText id="estcPcte" 
                                            value="#{pacienteBean.codSexo}" style="width:30px;">
                               </h:inputText>
                               <a4j:commandButton id="btnEstcPcte" 
                                                   value=".." 
                                                   oncomplete="#{rich:component('popupSexo')}.show()"
                                                   action="#{sexoBean.listSexoAll()}"  
                                                   render="popupSexo"
                                                   execute="@this"   >
                                </a4j:commandButton>
                            </h:panelGroup>
                             
                             <h:panelGroup>
                            <h:outputText value="Sexo: " />
                               <h:inputText id="sexPcte" 
                                            value="#{pacienteBean.codSexo}" style="width:30px;">
                               </h:inputText>
                               <a4j:commandButton id="btnSexo" 
                                                   value=".." 
                                                   oncomplete="#{rich:component('popupSexo')}.show()"
                                                   action="#{sexoBean.listSexoAll()}"  
                                                   render="popupSexo"
                                                   execute="@this"   >
                                </a4j:commandButton>
                            </h:panelGroup>
                             
                             <h:panelGroup>
                            <h:outputText value="Instrucción: " />
                               <h:inputText id="instPcte" 
                                            value="#{pacienteBean.idInstruccion}" style="width:30px;">
                               </h:inputText>
                               <a4j:commandButton id="btnInst" 
                                                   value=".." 
                                                   oncomplete="#{rich:component('popupSexo')}.show()"
                                                   action="#{sexoBean.listSexoAll()}"  
                                                   render="popupSexo"
                                                   execute="@this"   >
                                </a4j:commandButton>
                            </h:panelGroup>
                            <h:panelGroup>
                                <h:outputText value="Ocupación:" />
                            <h:inputText id="ocupPcte" 
                                         value="#{pacienteBean.idOcupacion}" style="width: 30px;"
                                         >
                            </h:inputText>
                                <a4j:commandButton id="btnOcupacion" 
                                                   value=".." 
                                                   oncomplete="#{rich:component('popupOcupacion')}.show()"
                                                   action="#{ocupacionBean.listOcupacionAll()}"  
                                                   render="popupOcupacion"
                                                   execute="@this"   >
                                </a4j:commandButton>
                            
                          
                            
                            </h:panelGroup>
                             
                            <h:panelGroup>
                            <h:outputText value="Departamento: " />
                               <h:inputText id="dptoPcte" 
                                            value="#{pacienteBean.codDpto}" style="width:30px;">
                               </h:inputText>
                               <a4j:commandButton id="btnDpto" 
                                                   value=".." 
                                                   oncomplete="#{rich:component('popupDpto')}.show()"
                                                   action="#{departamentoBean.listDptoAll()}"  
                                                   render="popupDpto"
                                                   execute="@this"   >
                                </a4j:commandButton>
                            </h:panelGroup>
                             
                             <h:panelGroup>
                            <h:outputText value="Provincia: " />
                               <h:inputText id="provPcte" 
                                            value="#{pacienteBean.codProv}" style="width:30px;">
                               </h:inputText>
                               <a4j:commandButton id="btnProv" 
                                                   value=".." 
                                                   oncomplete="#{rich:component('popupProv')}.show()"
                                                   action="#{provinciaBean.listProvinciaByIdDpto()}"  
                                                   render="popupProv"
                                                   execute="@this"   >
                                   <f:setPropertyActionListener target="#{provinciaBean.idDpto}" value="#{pacienteBean.codDpto}" />
                                </a4j:commandButton>
                            </h:panelGroup>
                              <h:panelGroup>
                            <h:outputText value="Distrito " />
                               <h:inputText id="distPcte" 
                                            value="#{pacienteBean.codDistrito}" style="width:30px;">
                               </h:inputText>
                               <a4j:commandButton id="btnDist" 
                                                   value=".." 
                                                   oncomplete="#{rich:component('popupDist')}.show()"
                                                   action="#{distritoBean.listDistritoByIdProv()}"  
                                                   render="popupDist"
                                                   execute="@this"   >
                                   <f:setPropertyActionListener target="#{distritoBean.idProvincia}" value="#{pacienteBean.codProv}" />
                                </a4j:commandButton>
                            </h:panelGroup>

                        </h:panelGrid>
                                </td> 
                                         
            
                            </tr>
                            <tr>
                                 
                                <td>
                                    
                         </td> 
                         </tr>    
                                
                  </table>
                       
                        
                   
                    
                   </rich:panel>          

                    <rich:panel id="sample1" styleClass="tooltip-text" bodyClass="rich-laguna-panel-no-header">

                        <span >
                           
                          
                            <span >
                                <h:commandButton id="btnGrabar" 
                                                 value="Grabar" 
                                                 action="#{pacienteBean.agregarPaciente()}" 
                                                  />
                                
                                
                                <a4j:commandButton id="btnGrabar1" 
                                                 value="Grabar11" 
                                                 action="#{pacienteBean.agregarPaciente()}"  execute="@form" render="tbpaciente"
                                                  />
                                
                                
                            </span>

                               <span >
                                <a4j:commandButton id="btnCancelar" 
                                                   value="Cancelar" 
                                                   onclick="Cancelar();"
                                                   execute="@this"   >
                                </a4j:commandButton>
                            </span>
                            
                          
                        </span>
                        <br/>
                                              
                        
                        <h:outputText  id="txtMensaje" value="#{pacienteBean.mensaje}" style="color:#ff0000;"  />
                   
                     
                    </rich:panel>
                    <rich:panel id="sample3" styleClass="tooltip-text" bodyClass="rich-laguna-panel-no-header">    
                     <span>
                                <h:panelGroup>
                                <h:outputText value="Código:" />
                            <h:inputText id="codPcte" 
                                         value="#{pacienteBean.codPcteFind}" style="width: 150px;"
                                         >
                            </h:inputText>
                                <a4j:commandButton id="btnBuscar" 
                                                   value="Buscar" 
                                                   action="#{pacienteBean.listPacienteById()}"  
                                                   render="tbpaciente"
                                                   execute="@form"   >
                                </a4j:commandButton>
                            
                          
                            
                            </h:panelGroup>
                                
                            </span>
                  <h:panelGrid columns="1" id="gridPaciente">
                    <rich:dataTable value="#{pacienteBean.listPaciente}" 
                                    var="pcte" 
                                    id="tbpaciente" 
                                    rows="15">
                        <rich:column>
                            <f:facet name="header">Código</f:facet>
                            <h:outputText value="#{pcte.codPaciente}" />
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">Nombres</f:facet>
                            <h:outputText value="#{pcte.nombre1}" />
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">Apellido Paterno</f:facet>
                            <h:outputText value="#{pcte.apPaterno}" />
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">Apellido Materno</f:facet>
                            <h:outputText value="#{pcte.apMaterno}" />
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">Dni</f:facet>
                            <h:outputText value="#{pcte.dni}" />
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">Dirección</f:facet>
                            <h:outputText value="#{pcte.direccion}" />
                        </rich:column>
                                            
                        <rich:column>
                            <f:facet name="header">Teléfono</f:facet>
                            <h:outputText value="#{pcte.telefono}" />
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">Email</f:facet>
                            <h:outputText value="#{pcte.email}" />
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">Fecha</f:facet>
                            <h:outputText value="#{pcte.fechaNacimiento}" />
                        </rich:column>

                        <rich:column>
                               <a4j:commandLink styleClass="no-decor" render="codPaciente,dniPcte,nom1Pcte,nom2Pcte,telfPcte,emailPcte,
                                             apePatPcte,apeMatPcte,dirPcte,calNacPcte,calRegPcte
                                             ,sexPcte,estcPcte,ocupPcte,instPcte,tipPcte,dptoPcte,provPcte,distPcte" execute="@this"
                                  action="#{pacienteBean.pintarFrmPcte()}">
                                 <h:graphicImage value="/images/icons/edit.gif" alt="edit" />
                                 <f:setPropertyActionListener target="#{pacienteBean.editPaciente}" value="#{pcte}" />
                            </a4j:commandLink>
                            
                            
                             <a4j:commandLink styleClass="no-decor" render="codPaciente,dniPcte,nom1Pcte,nom2Pcte,telfPcte,emailPcte,
                                             apePatPcte,apeMatPcte,dirPcte,calNacPcte,calRegPcte
                                             ,sexPcte,estcPcte,ocupPcte,instPcte,tipPcte,dptoPcte,provPcte,distPcte" execute="@this"
                                              action="#{pacienteBean.getOpcNew()}">
                                <h:graphicImage value="/images/icons/new.gif" alt="new" />
                                                         
                            </a4j:commandLink>
                        </rich:column>

                        <f:facet name="footer">
                            <rich:dataScroller page="1" />
                        </f:facet>
                    </rich:dataTable>
                </h:panelGrid> 
                 </rich:panel>  
                
               
            </h:form> 
             <h:form enctype="multipart/form-data">
                <rich:panel id="sample4" styleClass="tooltip-text" bodyClass="rich-laguna-panel-no-header">    
                <h:panelGrid columns="2">
                    <h:outputLabel value="Cargar archivo" for="fileUpload" />
                    <h:inputFile value="#{fileUploadFormBean.fileUpload}" id="fileUpload" onblur="LimitAttach(this,1);"    />

                    <h:commandButton value="Cargar Foto"/>
                </h:panelGrid>

                    <h:panelGrid rendered="#{not empty(fileUploadFormBean.fileUpload.name)}" columns="2"  >

                    <h:outputText value="fileName:" />
                    <h:outputText value="#{fileUploadFormBean.fName}" />

                    <h:outputText value="contentType:" />
                    <h:outputText value="#{fileUploadFormBean.fileUpload.contentType}" />

                    <h:outputText value="size:" />
                    <h:outputText value="#{fileUploadFormBean.fileUpload.size}" />
                </h:panelGrid>
               </rich:panel>     

        </h:form>
            <h:form>
                      
            </h:form>
           
  
            
            <rich:popupPanel id="popupPaciente" 
                             autosized="true" 
                             onmaskclick="#{rich:component('popupPaciente')}.hide()">
                <f:facet name="controls">
                    <h:outputLink value="#" onclick="#{rich:component('popupPaciente')}.hide();
                            return false;">X</h:outputLink>
                </f:facet>
                <h:panelGrid columns="1" id="editGrid">
                    <rich:dataTable value="#{pacienteBean.listPaciente}" 
                                    var="paciente" 
                                    id="tb_Personal" 
                                    rows="15">
                        <rich:column>
                            <f:facet name="header">Codigo</f:facet>
                            <h:outputText value="#{paciente.codPaciente}" />
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">Nombres</f:facet>
                            <h:outputText value="#{paciente.nombre1}" />
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">Apellido Paterno</f:facet>
                            <h:outputText value="#{paciente.apPaterno}" />
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">Apellido Materno</f:facet>
                            <h:outputText value="#{paciente.apMaterno}" />
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">Dni</f:facet>
                            <h:outputText value="#{paciente.dni}" />
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">Dirección</f:facet>
                            <h:outputText value="#{paciente.direccion}" />
                        </rich:column>
                                            
                        <rich:column>
                            <f:facet name="header">Teléfono</f:facet>
                            <h:outputText value="#{paciente.telefono}" />
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">Email</f:facet>
                            <h:outputText value="#{paciente.email}" />
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">Fecha</f:facet>
                            <h:outputText value="#{paciente.fechaNacimiento}" />
                        </rich:column>

                        <rich:column>
                            <a4j:commandLink styleClass="no-decor" 
                                             render="codPaciente,dniPcte,nom1Pcte,nom2Pcte,telfPcte,emailPcte,
                                             apePatPcte,apeMatPcte,dirPcte,calNacPcte,calRegPcte
                                             ,sexPcte,estcPcte,ocupPcte,instPcte,tipPcte,dptoPcte,provPcte,distPcte" 
                                             execute="@this" action="#{pacienteBean.pintarFrmPcte()}"
                                              onclick="#{rich:component('popupPaciente')}.hide();">
                                <h:graphicImage value="/images/icons/verify.gif"/>
                                <f:setPropertyActionListener target="#{pacienteBean.editPaciente}" value="#{paciente}" />
                            </a4j:commandLink>
                        </rich:column>

                        <f:facet name="footer">
                            <rich:dataScroller page="1" />
                        </f:facet>
                    </rich:dataTable>
                </h:panelGrid>
            </rich:popupPanel>

            
            <rich:popupPanel id="popupSexo" 
                             autosized="true"  
                             resizeable="false"  moveable="true" >
                <f:facet name="controls">
                    <h:outputLink value="#" onclick="#{rich:component('popupSexo')}.hide();
                            return false;">X</h:outputLink>
                </f:facet>
                <h:panelGrid columns="1" id="editGrid2">
                    <rich:dataTable value="#{sexoBean.listSexo}" 
                                    var="sex" 
                                    id="tb_Sexo" 
                                    rows="15">
                        <rich:column>
                            <f:facet name="header">Codigo</f:facet>
                            <h:outputText value="#{sex.codSexo}" />
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">Descripción</f:facet>
                            <h:outputText value="#{sex.descripcion}" />
                        </rich:column>
                        <rich:column>
                            <a4j:commandLink styleClass="no-decor" 
                                             render="sexPcte" 
                                             execute="@this" action="#{pacienteBean.pintarFormSex()}"
                                              onclick="#{rich:component('popupSexo')}.hide()">
                                <h:graphicImage value="/images/icons/verify.gif"/>
                                <f:setPropertyActionListener target="#{pacienteBean.codSexo}" value="#{sex.codSexo}" />
                            </a4j:commandLink>
                        </rich:column>

                        <f:facet name="footer">
                            <rich:dataScroller page="1" />
                        </f:facet>
                    </rich:dataTable>
                </h:panelGrid>
            </rich:popupPanel>

            
            <rich:popupPanel id="popupOcupacion" 
                             autosized="true" 
                             >
                <f:facet name="controls">
                    <h:outputLink value="#" onclick="#{rich:component('popupOcupacion')}.hide();
                            return false;">X</h:outputLink>
                </f:facet>
                <h:panelGrid columns="1" id="editGrid3">
                    <rich:dataTable value="#{ocupacionBean.listOcupacion}" 
                                    var="ocup" 
                                    id="tb_Ocupacion" 
                                    rows="15">
                        <rich:column>
                            <f:facet name="header">Codigo</f:facet>
                            <h:outputText value="#{ocup.codOcupacion}" />
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">Descripción</f:facet>
                            <h:outputText value="#{ocup.descripcion}" />
                        </rich:column>
                        <rich:column>
                            <a4j:commandLink styleClass="no-decor" 
                                             render="ocupPers" 
                                             execute="@this" action="#{pacienteBean.pintarFormOcup()}"
                                              onclick="#{rich:component('popupOcupacion')}.hide()">
                                <h:graphicImage value="/images/icons/verify.gif"/>
                                <f:setPropertyActionListener target="#{pacienteBean.idOcupacion}" value="#{ocup.codOcupacion}" />
                            </a4j:commandLink>
                        </rich:column>

                        <f:facet name="footer">
                            <rich:dataScroller page="1" />
                        </f:facet>
                    </rich:dataTable>
                </h:panelGrid>
            </rich:popupPanel>
            
            
            <rich:popupPanel id="popupDpto" 
                             autosized="true"  
                             resizeable="false"  moveable="true" >
                <f:facet name="controls">
                    <h:outputLink value="#" onclick="#{rich:component('popupDpto')}.hide();
                            return false;">X</h:outputLink>
                </f:facet>
                <h:panelGrid columns="1" id="pgridDpto">
                    <rich:dataTable value="#{departamentoBean.listDpto}" 
                                    var="dpto" 
                                    id="tbDpto" 
                                    rows="15">
                        <rich:column>
                            <f:facet name="header">Codigo</f:facet>
                            <h:outputText value="#{dpto.codDepa}" />
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">Descripción</f:facet>
                            <h:outputText value="#{dpto.desDepa}" />
                        </rich:column>
                        <rich:column>
                            <a4j:commandLink styleClass="no-decor" 
                                             render="dptoPcte,provPcte,distPcte" 
                                             execute="@this" action="#{pacienteBean.pintarFrmDpto()}"
                                              onclick="#{rich:component('popupDpto')}.hide()">
                                <h:graphicImage value="/images/icons/verify.gif"/>
                                <f:setPropertyActionListener target="#{pacienteBean.codDpto}" value="#{dpto.codDepa}" />
                            </a4j:commandLink>
                        </rich:column>

                        <f:facet name="footer">
                            <rich:dataScroller page="1" />
                        </f:facet>
                    </rich:dataTable>
                </h:panelGrid>
            </rich:popupPanel>

            <rich:popupPanel id="popupProv" 
                             autosized="true"  
                             resizeable="false"  moveable="true" >
                <f:facet name="controls">
                    <h:outputLink value="#" onclick="#{rich:component('popupProv')}.hide();
                            return false;">X</h:outputLink>
                </f:facet>
                <h:panelGrid columns="1" id="pgridProv">
                    <rich:dataTable value="#{provinciaBean.listProvincia}" 
                                    var="prov" 
                                    id="tbProv" 
                                    rows="15">
                        <rich:column>
                            <f:facet name="header">Codigo</f:facet>
                            <h:outputText value="#{prov.codProvincia}" />
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">Descripción</f:facet>
                            <h:outputText value="#{prov.desProvincia}" />
                        </rich:column>
                        <rich:column>
                            <a4j:commandLink styleClass="no-decor" 
                                             render="provPcte" 
                                             execute="@this" action="#{pacienteBean.pintarFrmProv()}"
                                              onclick="#{rich:component('popupProv')}.hide()">
                                <h:graphicImage value="/images/icons/verify.gif"/>
                                <f:setPropertyActionListener target="#{pacienteBean.codProv}" value="#{prov.codProvincia}" />
                            </a4j:commandLink>
                        </rich:column>

                        <f:facet name="footer">
                            <rich:dataScroller page="1" />
                        </f:facet>
                    </rich:dataTable>
                </h:panelGrid>
            </rich:popupPanel>
            
            <rich:popupPanel id="popupDist" 
                             autosized="true"  
                             resizeable="false"  moveable="true" >
                <f:facet name="controls">
                    <h:outputLink value="#" onclick="#{rich:component('popupDist')}.hide();
                            return false;">X</h:outputLink>
                </f:facet>
                <h:panelGrid columns="1" id="pgridDist">
                    <rich:dataTable value="#{distritoBean.listDistrito}" 
                                    var="dist" 
                                    id="tbDist" 
                                    rows="15">
                        <rich:column>
                            <f:facet name="header">Codigo</f:facet>
                            <h:outputText value="#{dist.codDistrito}" />
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">Descripción</f:facet>
                            <h:outputText value="#{dist.desDistrito}" />
                        </rich:column>
                        <rich:column>
                            <a4j:commandLink styleClass="no-decor" 
                                             render="distPcte" 
                                             execute="@this" action="#{pacienteBean.pintarFrmDistrito()}"
                                              onclick="#{rich:component('popupDist')}.hide()">
                                <h:graphicImage value="/images/icons/verify.gif"/>
                                <f:setPropertyActionListener target="#{pacienteBean.codDistrito}" value="#{dist.codDistrito}" />
                            </a4j:commandLink>
                        </rich:column>

                        <f:facet name="footer">
                            <rich:dataScroller page="1" />
                        </f:facet>
                    </rich:dataTable>
                </h:panelGrid>
            </rich:popupPanel>
        </h:body>
    </ui:define>
</ui:composition>
